--- src/application.cpp.orig	2020-06-05 01:47:12.652597328 -0300
+++ src/application.cpp	2020-06-05 01:51:10.281218396 -0300
@@ -56,7 +56,7 @@
 
 
     #ifdef WITH_LIBGIT2
-        #if LIBGIT2_SOVERSION >= 22
+        #if LIBGIT2_VER_MAJOR > 0 || (LIBGIT2_VER_MAJOR == 0 && LIBGIT2_VER_MINOR >= 22)
             git_libgit2_init();
         #else
             git_threads_init();
@@ -67,7 +67,7 @@
 Application::~Application()
 {
     #ifdef WITH_LIBGIT2
-        #if LIBGIT2_SOVERSION >= 22
+        #if LIBGIT2_VER_MAJOR > 0 || (LIBGIT2_VER_MAJOR == 0 && LIBGIT2_VER_MINOR >= 22)
             git_libgit2_shutdown();
         #else
             git_threads_shutdown();
